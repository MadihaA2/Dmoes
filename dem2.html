<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IlmHub â€” Islamic Learning Platform (Demo)</title>
  <meta name="description" content="A singleâ€“file demo like Codingal but for Islamic courses â€” teachers teach, managers manage." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu:wght@400;600;700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg: #0f172a;           /* slate-900 */
      --card: #111827;         /* gray-900 */
      --muted: #94a3b8;        /* slate-400 */
      --text: #e5e7eb;         /* gray-200 */
      --brand: #22c55e;        /* green-500 */
      --brand-dark:#16a34a;    /* green-600 */
      --accent:#38bdf8;        /* sky-400 */
      --danger:#ef4444;        /* red-500 */
      --warning:#f59e0b;       /* amber-500 */
      --success:#10b981;       /* emerald-500 */
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 18px;
    }
    html,body{height:100%;}
    body{
      margin:0; background: radial-gradient(1200px 600px at 80% -10%, rgba(34,197,94,.15), transparent 60%),
      radial-gradient(800px 400px at -10% 20%, rgba(56,189,248,.12), transparent 50%),
      var(--bg);
      color:var(--text); font-family:"Noto Nastaliq Urdu", serif;
    }
    *{box-sizing:border-box}
    a{color:inherit; text-decoration:none}
    .container{max-width:1200px; margin:0 auto; padding:0 16px}
    .nav{position:sticky; top:0; z-index:50; backdrop-filter: blur(10px); background:rgba(15,23,42,.6); border-bottom:1px solid rgba(148,163,184,.15)}
    .nav-inner{display:flex; align-items:center; justify-content:space-between; padding:12px 0}
    .logo{display:flex; align-items:center; gap:10px}
    .logo-badge{width:36px; height:36px; border-radius:12px; background:linear-gradient(135deg, var(--brand), var(--accent)); display:grid; place-items:center; box-shadow: var(--shadow)}
    .logo-badge svg{filter: drop-shadow(0 2px 8px rgba(0,0,0,.6))}
    .logo h1{font-size:22px; margin:0; font-weight:700}
    .nav-actions{display:flex; gap:8px; align-items:center}
    .btn{border:1px solid rgba(148,163,184,.2); padding:10px 14px; border-radius:14px; background:#0b1220; color:var(--text); cursor:pointer; transition:.2s ease; font-family:"Inter", system-ui, -apple-system, Segoe UI, Roboto, sans-serif; font-weight:600}
    .btn:hover{transform:translateY(-1px); border-color: rgba(148,163,184,.35)}
    .btn.brand{background:linear-gradient(135deg, var(--brand), var(--accent)); border:none; color:#06220f}
    .btn.brand:hover{filter:brightness(1.05)}
    .hero{display:grid; grid-template-columns: 1.1fr .9fr; gap:28px; align-items:center; padding:56px 0}
    .card{background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.008)); border:1px solid rgba(148,163,184,.15); border-radius: var(--radius); box-shadow: var(--shadow)}
    .hero-card{padding:28px}
    .headline{font-size:40px; line-height:1.25; margin:0 0 8px 0; font-weight:700}
    .eyebrow{color:var(--muted); font-family:"Inter"; letter-spacing:.5px; font-size:12px}
    .lead{color:#d1d5db; font-size:18px; margin:10px 0 18px}
    .grid{display:grid; gap:16px}
    .grid-3{grid-template-columns:repeat(3,1fr)}
    .grid-2{grid-template-columns:repeat(2,1fr)}
    .section{padding:28px; margin:18px 0}
    .section h2{margin:0 0 14px 0; font-size:28px}
    .tag{font-family:"Inter"; font-size:11px; letter-spacing:.4px; color:#06220f; background:linear-gradient(135deg, var(--brand), var(--accent)); padding:6px 10px; border-radius:999px; display:inline-block}
    .course{padding:16px}
    .course h3{margin:4px 0 8px 0}
    .chip{display:inline-flex; gap:8px; align-items:center; border:1px solid rgba(148,163,184,.25); padding:6px 10px; border-radius:999px; font-family:"Inter"; font-size:12px; color:#cbd5e1}
    .teacher{display:flex; gap:14px; align-items:flex-start; padding:16px}
    .avatar{width:56px; height:56px; border-radius:50%; background:linear-gradient(135deg, #64748b, #0ea5e9); display:grid; place-items:center; font-family:"Inter"; font-weight:700}
    .muted{color:var(--muted); font-family:"Inter"}
    .footer{padding:40px 0; border-top:1px solid rgba(148,163,184,.15); color:var(--muted); font-family:"Inter"; text-align:center}
    .pill{padding:10px 14px; border-radius:999px; background:rgba(56,189,248,.12); border:1px solid rgba(56,189,248,.25); font-family:"Inter";}

    /* Dialog / modal */
    .backdrop{position:fixed; inset:0; background:rgba(0,0,0,.6); display:none; align-items:center; justify-content:center; z-index:60}
    .modal{width:min(680px, 92vw); background:#0b1220; border:1px solid rgba(148,163,184,.2); border-radius:16px; box-shadow: var(--shadow); display:none}
    .modal header{display:flex; align-items:center; justify-content:space-between; padding:14px 16px; border-bottom:1px solid rgba(148,163,184,.15)}
    .modal .body{padding:16px}

    .input, select{width:100%; background:#0a1220; color:var(--text); border:1px solid rgba(148,163,184,.22); border-radius:12px; padding:12px 12px; outline:none; font-family:"Inter"}
    .input:focus, select:focus{border-color: var(--accent)}
    .row{display:grid; grid-template-columns:1fr 1fr; gap:12px}

    .badge{font-family:"Inter"; font-size:11px; padding:4px 8px; border-radius:999px; border:1px solid rgba(148,163,184,.25)}
    .badge.success{background:rgba(16,185,129,.15); border-color:rgba(16,185,129,.35);}
    .badge.warn{background:rgba(245,158,11,.15); border-color:rgba(245,158,11,.35);}
    .badge.danger{background:rgba(239,68,68,.15); border-color:rgba(239,68,68,.35);}

    /* Responsive */
    @media (max-width: 900px){
      .hero{grid-template-columns:1fr}
      .grid-3{grid-template-columns: 1fr}
      .grid-2{grid-template-columns: 1fr}
      .headline{font-size:32px}
    }
  </style>
</head>
<body>
  <!-- NAVBAR -->
  <nav class="nav">
    <div class="container nav-inner">
      <div class="logo">
        <div class="logo-badge" aria-hidden="true">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 7l9-4 9 4-9 4-9-4z" fill="rgba(0,0,0,.3)"/>
            <path d="M3 12l9 4 9-4" stroke="#06220f" stroke-width="2"/>
          </svg>
        </div>
        <h1>IlmHub â€” Ø§Ø³Ù„Ø§Ù…ÛŒ Ù„Ø±Ù†Ù†Ú¯</h1>
      </div>
      <div class="nav-actions">
        <button class="btn" id="btnLogin">Ù„Ø§Ú¯ Ø§ÙÙ† / Ø³Ø§Ø¦Ù† Ø§ÙÙ¾</button>
        <button class="btn" id="btnManager">Ù…Ù†ÛŒØ¬Ø± Ù¾ÛŒÙ†Ù„</button>
        <button class="btn brand" id="btnJoin">Ú©Ù„Ø§Ø³ Ø¬ÙˆØ§Ø¦Ù† Ú©Ø±ÛŒÚº</button>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header class="container hero">
    <div class="card hero-card">
      <div class="eyebrow">Learn â€¢ Teach â€¢ Inspire</div>
      <h2 class="headline">Codingal Ø¬ÛŒØ³Ø§ Ù¾Ù„ÛŒÙ¹ ÙØ§Ø±Ù… â€” Ù…Ú¯Ø± Ø§Ø³Ù„Ø§Ù…ÛŒ ØªØ¹Ù„ÛŒÙ… Ú©ÛŒÙ„Ø¦Û’ âœ¨</h2>
      <p class="lead">Ø¬ÛØ§Úº Ù…Ø³ØªÙ†Ø¯ Ø§Ø³Ø§ØªØ°Û Ù‚Ø±Ø¢Ù†ØŒ ØªØ¬ÙˆÛŒØ¯ØŒ Ù†Ø§Ø¸Ø±ÛØŒ Ù†ÙˆØ±Ø§Ù†ÛŒ Ù‚Ø§Ø¹Ø¯ÛØŒ Ø³ÛŒØ±Øª Ø§ÙˆØ± Ø¹Ø±Ø¨ÛŒ Ú©ÛŒ Ú©Ù„Ø§Ø³Ø² Ù¾Ú‘Ú¾Ø§ØªÛ’ ÛÛŒÚºÛ” ÙˆØ§Ù„Ø¯ÛŒÙ† Ø§ÙˆØ± Ø·Ù„Ø¨Û Ø¢Ø³Ø§Ù†ÛŒ Ø³Û’ Ú©Ù„Ø§Ø³ Ø¨ÙÚ© Ú©Ø± Ø³Ú©ØªÛ’ ÛÛŒÚºÛ”</p>
      <div class="grid grid-3">
        <div class="card section">
          <span class="tag">Ø·Ù„Ø¨Û Ú©ÛŒÙ„Ø¦Û’</span>
          <h3>Ù„Ø§Ø¦ÛŒÙˆ Ú©Ù„Ø§Ø³Ø² + Ø±ÛŒÚ©Ø§Ø±ÚˆÙ†Ú¯</h3>
          <p class="muted">Ø²ÙˆÙ…/Ù…ÛŒÙ¹ Ù„Ù†Ú© Ø´Ø§Ù…Ù„ Ú©Ø±ÛŒÚºØŒ Ø±ÛŒÚ©Ø§Ø±ÚˆÙ†Ú¯ Ø¨Ø¹Ø¯ Ù…ÛŒÚº ÚˆØ§Ø¤Ù†Ù„ÙˆÚˆ Ú©Ø±ÛŒÚºÛ”</p>
          <button class="btn" onclick="scrollToId('courses')">Ú©ÙˆØ±Ø³ Ø¯ÛŒÚ©Ú¾ÛŒÚº</button>
        </div>
        <div class="card section">
          <span class="tag">Ø§Ø³Ø§ØªØ°Û Ú©ÛŒÙ„Ø¦Û’</span>
          <h3>Apply as Teacher</h3>
          <p class="muted">Ù¾Ø±ÙˆÙØ§Ø¦Ù„ Ø¨Ù†Ø§Ø¦ÛŒÚºØŒ Ø´ÛŒÚˆÙˆÙ„ Ø³ÛŒÙ¹ Ú©Ø±ÛŒÚºØŒ Ø·Ù„Ø¨Û Ø³Û’ Ú©Ù…Ø§Ø¦ÛŒÚºÛ”</p>
          <button class="btn" onclick="openModal('teacherModal')">Ø§Ù¾Ù„Ø§Ø¦ÛŒ Ú©Ø±ÛŒÚº</button>
        </div>
        <div class="card section">
          <span class="tag">ÙˆØ§Ù„Ø¯ÛŒÙ† Ú©ÛŒÙ„Ø¦Û’</span>
          <h3>ÚˆÛŒØ´ Ø¨ÙˆØ±Úˆ</h3>
          <p class="muted">Ø¨Ú†ÙˆÚº Ú©ÛŒ Ù¾ÛŒØ´ Ø±ÙØª Ø¯ÛŒÚ©Ú¾ÛŒÚºØŒ Ø§Ø¯Ø§Ø¦ÛŒÚ¯ÛŒ Ú©Ø±ÛŒÚºØŒ Ù¾ÛŒØºØ§Ù…Ø§Øª Ø¨Ú¾ÛŒØ¬ÛŒÚºÛ”</p>
          <button class="btn" onclick="scrollToId('dashboard')">ÚˆÛŒØ´ Ø¨ÙˆØ±Úˆ</button>
        </div>
      </div>
    </div>
    <div class="card hero-card">
      <h3 style="margin:0 0 12px 0">Ø¢Ø³Ø§Ù† 3 Ù‚Ø¯Ù…ÛŒ Ø·Ø±ÛŒÙ‚Û</h3>
      <ol class="muted" style="line-height:1.9">
        <li>Ú©ÙˆØ±Ø³ Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº â†’ "Free Trial" Ø¨Ù¹Ù† Ø¯Ø¨Ø§Ø¦ÛŒÚº</li>
        <li>ÙˆÙ‚Øª Ú†Ù†ÛŒÚº â†’ Ú©Ø§Ù†Ù¹ÛŒÚ©Ù¹ Ù†Ù…Ø¨Ø± Ø¯ÛŒÚº</li>
        <li>Ù…Ù†Ø¸ÙˆØ±ÛŒ Ú©Û’ Ø¨Ø¹Ø¯ Ú©Ù„Ø§Ø³ Ù„Ù†Ú© SMS/WhatsApp Ù¾Ø± Ù…ÙˆØµÙˆÙ„ ÛÙˆÚ¯Ø§</li>
      </ol>
      <div style="height:12px"></div>
      <div class="grid grid-2">
        <div class="card section">
          <div class="pill">ğŸ”” Ø§Ø°Ø§Ù† Ø±ÛŒÙ…Ø§Ø¦Ù†ÚˆØ± (ÚˆÛŒÙ…Ùˆ)</div>
          <p class="muted">Ù†ÛŒÚ†Û’ ÙˆÙ‚Øª Ø³ÛŒÙ¹ Ú©Ø±ÛŒÚºÛ” Ø·Û’ Ø´Ø¯Û ÙˆÙ‚Øª Ù¾Ø± Ø¢ÙˆØ§Ø² Ø¨Ø¬Û’ Ú¯ÛŒÛ”</p>
          <div class="row">
            <input class="input" type="time" id="adhanTime"/>
            <button class="btn" onclick="setAdhanReminder()">Ø³ÛŒÙ¹ Ú©Ø±ÛŒÚº</button>
          </div>
          <audio id="adhanAudio">
            <source src="https://cdn.pixabay.com/download/audio/2021/09/20/audio_0f4ac74b9f.mp3?filename=prayer-call-azan-8582.mp3" type="audio/mpeg"/>
          </audio>
        </div>
        <div class="card section">
          <div class="pill">â¬‡ï¸ ÚˆØ§Ø¤Ù†Ù„ÙˆÚˆ ÚˆÛŒÙ…Ùˆ</div>
          <p class="muted">Ø³Ø¨Ù‚ Ú©Û’ Ù†ÙˆÙ¹Ø³ Ø§ÛŒÚ© Ú©Ù„Ú© Ù…ÛŒÚº ÚˆØ§Ø¤Ù†Ù„ÙˆÚˆ Ú©Ø±ÛŒÚºÛ”</p>
          <button class="btn" onclick="downloadNotes()">Lesson Notes ÚˆØ§Ø¤Ù†Ù„ÙˆÚˆ Ú©Ø±ÛŒÚº</button>
        </div>
      </div>
    </div>
  </header>

  <!-- COURSES -->
  <section class="container card section" id="courses">
    <div style="display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap">
      <h2>Ù…Ø´ÛÙˆØ± Ú©ÙˆØ±Ø³Ø²</h2>
      <div class="chip"><span>â­</span> 4.9 / 5 Ø±ÛŒÙ¹Ù†Ú¯</div>
    </div>
    <div class="grid grid-3" id="courseGrid"></div>
  </section>

  <!-- TEACHERS -->
  <section class="container card section" id="teachers">
    <h2>ÛÙ…Ø§Ø±Û’ Ø§Ø³Ø§ØªØ°Û</h2>
    <div id="teacherList" class="grid grid-3"></div>
  </section>

  <!-- DASHBOARD -->
  <section class="container card section" id="dashboard">
    <h2>Ù…ÛŒØ±Ø§ ÚˆÛŒØ´ Ø¨ÙˆØ±Úˆ</h2>
    <div class="grid grid-2">
      <div class="card section">
        <h3>Enrolled Courses</h3>
        <div id="enrolled"></div>
      </div>
      <div class="card section">
        <h3>Billing & Payments (Demo)</h3>
        <p class="muted">JazzCash / Easypaisa / Stripe â€” Coming Soon</p>
        <div class="row">
          <input class="input" id="coupon" placeholder="Ú©ÙˆÙ¾Ù† Ú©ÙˆÚˆ Ø¯Ø±Ø¬ Ú©Ø±ÛŒÚº (Ù…Ø«Ù„Ø§Ù‹ BISMILLAH10)" />
          <button class="btn" onclick="applyCoupon()">Apply</button>
        </div>
        <div style="height:10px"></div>
        <button class="btn brand" onclick="openModal('payModal')">Ø§Ø¯Ø§Ø¦ÛŒÚ¯ÛŒ Ú©Ø±ÛŒÚº</button>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container">
      Â© <span id="year"></span> IlmHub â€” Built as a demo single file. <span class="badge">HTTPS Ready</span>
      <div style="height:8px"></div>
      <a class="badge" href="#" onclick="shareOnWhatsApp(event)">WhatsApp Ù¾Ø± Ø´ÛŒØ¦Ø± Ú©Ø±ÛŒÚº</a>
    </div>
  </footer>

  <!-- MODALS -->
  <div class="backdrop" id="backdrop" onclick="closeAllModals()"></div>

  <!-- Login Modal -->
  <div class="modal" id="authModal" role="dialog" aria-modal="true">
    <header>
      <strong>Ù„Ø§Ú¯ Ø§ÙÙ† / Ø³Ø§Ø¦Ù† Ø§ÙÙ¾</strong>
      <button class="btn" onclick="closeAllModals()">âœ•</button>
    </header>
    <div class="body">
      <div class="row">
        <input class="input" id="authName" placeholder="Ù†Ø§Ù…" />
        <input class="input" id="authPhone" placeholder="ÙÙˆÙ† (WhatsApp)" />
      </div>
      <div style="height:10px"></div>
      <input class="input" id="authEmail" placeholder="Ø§ÛŒ Ù…ÛŒÙ„" />
      <div style="height:10px"></div>
      <input class="input" id="authPwd" placeholder="Ù¾Ø§Ø³ ÙˆØ±Úˆ" type="password" />
      <div style="height:12px"></div>
      <button class="btn brand" onclick="signupOrLogin()">Continue</button>
      <div style="height:8px"></div>
      <p class="muted">ÚˆÛŒÙ…Ùˆ Ú©ÛŒÙ„Ø¦Û’ Ú©ÙˆØ¦ÛŒ Ø¨Ú¾ÛŒ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¯Ø±Ø¬ Ú©Ø±ÛŒÚºÛ”
        <span class="badge">ØµØ±Ù LocalStorage</span>
      </p>
    </div>
  </div>

  <!-- Teacher Apply Modal -->
  <div class="modal" id="teacherModal" role="dialog" aria-modal="true">
    <header>
      <strong>Ø§Ø³ØªØ§Ø¯ Ø¨Ù†ÛŒÚº â€” Apply</strong>
      <button class="btn" onclick="closeAllModals()">âœ•</button>
    </header>
    <div class="body">
      <div class="row">
        <input class="input" id="tName" placeholder="Ù†Ø§Ù…" />
        <input class="input" id="tEmail" placeholder="Ø§ÛŒ Ù…ÛŒÙ„" />
      </div>
      <div style="height:10px"></div>
      <div class="row">
        <select id="tSubject" class="input">
          <option value="Quran Tajweed">Quran Tajweed</option>
          <option value="Noorani Qaida">Noorani Qaida</option>
          <option value="Hifz / Nazra">Hifz / Nazra</option>
          <option value="Seerah">Seerah</option>
          <option value="Arabic Basics">Arabic Basics</option>
        </select>
        <input class="input" id="tRate" type="number" placeholder="ÙÛŒ Ú¯Ú¾Ù†Ù¹Û ÙÛŒØ³ (PKR)" />
      </div>
      <div style="height:10px"></div>
      <input class="input" id="tBio" placeholder="ØªØ¹Ø§Ø±Ù / Ø³Ù†Ø¯" />
      <div style="height:12px"></div>
      <button class="btn brand" onclick="applyTeacher()">Submit</button>
      <p class="muted">Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù…Ù†ÛŒØ¬Ø± Ù¾ÛŒÙ†Ù„ Ù…ÛŒÚº Ù†Ø¸Ø± Ø¢Ø¦Û’ Ú¯ÛŒÛ”</p>
    </div>
  </div>

  <!-- Book Trial Modal -->
  <div class="modal" id="trialModal" role="dialog" aria-modal="true">
    <header>
      <strong>Free Trial Ø¨ÙÚ© Ú©Ø±ÛŒÚº</strong>
      <button class="btn" onclick="closeAllModals()">âœ•</button>
    </header>
    <div class="body">
      <div class="row">
        <input class="input" id="trialName" placeholder="Ø·Ø§Ù„Ø¨ Ø¹Ù„Ù… Ú©Ø§ Ù†Ø§Ù…" />
        <input class="input" id="trialPhone" placeholder="WhatsApp Ù†Ù…Ø¨Ø±" />
      </div>
      <div style="height:10px"></div>
      <div class="row">
        <input class="input" id="trialDate" type="date" />
        <input class="input" id="trialTime" type="time" />
      </div>
      <div style="height:12px"></div>
      <button class="btn brand" onclick="bookTrial()">Ø¨ÙÚ© Ú©Ø±ÛŒÚº</button>
      <p class="muted">Ù…Ù†Ø¸ÙˆØ±ÛŒ Ú©Û’ Ø¨Ø¹Ø¯ Ú©Ù„Ø§Ø³ Ù„Ù†Ú© WhatsApp Ù¾Ø± Ù…Ù„Û’ Ú¯Ø§Û”</p>
    </div>
  </div>

  <!-- Payment Modal -->
  <div class="modal" id="payModal" role="dialog" aria-modal="true">
    <header>
      <strong>Ø§Ø¯Ø§Ø¦ÛŒÚ¯ÛŒ (ÚˆÛŒÙ…Ùˆ)</strong>
      <button class="btn" onclick="closeAllModals()">âœ•</button>
    </header>
    <div class="body">
      <p class="muted">Ø§Ø¯Ø§Ø¦ÛŒÚ¯ÛŒ Ú©Û’ Ø·Ø±ÛŒÙ‚Û’ Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº:</p>
      <div class="row">
        <label class="chip"><input type="radio" name="pay" checked> JazzCash</label>
        <label class="chip"><input type="radio" name="pay"> Easypaisa</label>
      </div>
      <div style="height:10px"></div>
      <div class="row">
        <input class="input" placeholder="Ø±Ù‚Ù… (PKR)" id="payAmount" type="number"/>
        <input class="input" placeholder="Ø±ÛŒÙØ±Ù†Ø³ Ù†Ùˆ." id="payRef"/>
      </div>
      <div style="height:12px"></div>
      <button class="btn brand" onclick="markPaid()">Mark as Paid (Demo)</button>
      <p class="muted">ÛŒÛ ØµØ±Ù ÚˆÛŒÙ…Ùˆ ÛÛ’ â€” Ú©ÙˆØ¦ÛŒ Ø­Ù‚ÛŒÙ‚ÛŒ Ø§Ø¯Ø§Ø¦ÛŒÚ¯ÛŒ Ù†ÛÛŒÚº ÛÙˆ Ú¯ÛŒÛ”</p>
    </div>
  </div>

  <!-- Manager Panel Modal -->
  <div class="modal" id="managerModal" role="dialog" aria-modal="true">
    <header>
      <strong>Ù…Ù†ÛŒØ¬Ø± Ù¾ÛŒÙ†Ù„</strong>
      <button class="btn" onclick="closeAllModals()">âœ•</button>
    </header>
    <div class="body" id="managerBody">
      <div id="mgrLogin">
        <p class="muted">Ù„Ø§Ú¯ Ø§ÙÙ†: admin@ilmhub | Ù¾Ø§Ø³ ÙˆØ±Úˆ: <span class="badge">manager123</span></p>
        <div class="row">
          <input class="input" id="mgrEmail" placeholder="Ø§ÛŒ Ù…ÛŒÙ„" />
          <input class="input" id="mgrPwd" type="password" placeholder="Ù¾Ø§Ø³ ÙˆØ±Úˆ" />
        </div>
        <div style="height:12px"></div>
        <button class="btn brand" onclick="managerLogin()">Enter Panel</button>
      </div>
      <div id="mgrArea" style="display:none">
        <div class="grid grid-2">
          <div class="card section">
            <h3>Teacher Applications</h3>
            <div id="apps"></div>
          </div>
          <div class="card section">
            <h3>Courses & Approvals</h3>
            <div id="mgrCourses"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ======= Utilities & State =======
    const $ = (q) => document.querySelector(q);
    const $$ = (q) => document.querySelectorAll(q);
    const db = {
      users: JSON.parse(localStorage.getItem('users')||'[]'),
      currentUser: JSON.parse(localStorage.getItem('currentUser')||'null'),
      courses: JSON.parse(localStorage.getItem('courses')||'null') || defaultCourses(),
      teachers: JSON.parse(localStorage.getItem('teachers')||'null') || defaultTeachers(),
      apps: JSON.parse(localStorage.getItem('apps')||'[]'),
      enrollments: JSON.parse(localStorage.getItem('enrollments')||'[]'),
      payments: JSON.parse(localStorage.getItem('payments')||'[]'),
    };
    persist();

    function persist(){
      localStorage.setItem('users', JSON.stringify(db.users));
      localStorage.setItem('currentUser', JSON.stringify(db.currentUser));
      localStorage.setItem('courses', JSON.stringify(db.courses));
      localStorage.setItem('teachers', JSON.stringify(db.teachers));
      localStorage.setItem('apps', JSON.stringify(db.apps));
      localStorage.setItem('enrollments', JSON.stringify(db.enrollments));
      localStorage.setItem('payments', JSON.stringify(db.payments));
    }

    function defaultCourses(){
      return [
        {id:'c1', title:'Ù†ÙˆØ±Ø§Ù†ÛŒ Ù‚Ø§Ø¹Ø¯Û (Ø¨Ù†ÛŒØ§Ø¯ÛŒ)', level:'Beginner', price:2500, tag:'Kids 6+', desc:'Ø­Ø±ÙˆÙ Ú©ÛŒ Ù¾ÛÚ†Ø§Ù†ØŒ Ù…Ø®Ø§Ø±Ø¬ Ø§ÙˆØ± Ø¬ÙˆÚ‘ Ú©ÛŒ Ù…Ø´Ù‚ÛŒÚºÛ”', duration:'4 ÛÙØªÛ’', slots:['17:00','19:00'], teacher:'t1'},
        {id:'c2', title:'Ù‚Ø±Ø¢Ù† Ù†Ø§Ø¸Ø±Û + ØªØ¬ÙˆÛŒØ¯', level:'Beginner/Inter', price:3500, tag:'Daily 30m', desc:'ØªØ¬ÙˆÛŒØ¯ Ú©Û’ Ù‚ÙˆØ§Ø¹Ø¯ØŒ ØµØ­ÛŒØ­ Ù…Ø®Ø§Ø±Ø¬ØŒ Ø±ÙˆØ²Ø§Ù†Û ØªÙ„Ø§ÙˆØªÛ”', duration:'8 ÛÙØªÛ’', slots:['18:00','20:30'], teacher:'t2'},
        {id:'c3', title:'Ø­ÙØ¸Ù Ù‚Ø±Ø¢Ù† (Part-time)', level:'Advanced', price:6000, tag:'Hifz Track', desc:'Ù…Ù†Ø¸Ù… Ø­ÙØ¸ØŒ Ø¯ÙˆØ±ØŒ ØªØ³Ù„Ø³Ù„ Ø§ÙˆØ± Ø¬Ø§Ø¦Ø²ÛÛ”', duration:'12 ÛÙØªÛ’', slots:['06:30','21:00'], teacher:'t3'},
        {id:'c4', title:'Ø³ÛŒØ±ØªÙ Ø§Ù„Ù†Ø¨ÛŒ ï·º', level:'All', price:3000, tag:'Story Based', desc:'Ø³ÛŒØ±Øª Ú©Û’ Ø³Ù†ÛØ±Û’ ÙˆØ§Ù‚Ø¹Ø§ØªØŒ Ø§Ø®Ù„Ø§Ù‚ØŒ Ø³Ø¨Ù‚ Ø¢Ù…ÙˆØ² Ú©ÛØ§Ù†ÛŒØ§ÚºÛ”', duration:'6 ÛÙØªÛ’', slots:['19:30','21:30'], teacher:'t4'},
        {id:'c5', title:'Ø¹Ø±Ø¨ÛŒ Ø¨Ù†ÛŒØ§Ø¯ÛŒØ§Øª', level:'Beginner', price:3200, tag:'Arabic 101', desc:'Ø­Ø±ÙˆÙØŒ Ø¨Ù†ÛŒØ§Ø¯ÛŒ ØµØ±Ù Ùˆ Ù†Ø­Ùˆ Ø§ÙˆØ± Ø±ÙˆØ²Ù…Ø±Û Ø¬Ù…Ù„Û’Û”', duration:'6 ÛÙØªÛ’', slots:['17:30','20:00'], teacher:'t2'},
        {id:'c6', title:'Ù‚Ø±Ø¢Ù† ÙÛÙ… (ØªØ±Ø¬Ù…Û+ØªØ¯Ø¨Ø±)', level:'Inter', price:3800, tag:'Tafseer Lite', desc:'Ù…Ù†ØªØ®Ø¨ Ø³ÙˆØ±ØªÙˆÚº Ú©Ø§ ØªØ±Ø¬Ù…Û Ø§ÙˆØ± ØªØ¯Ø¨Ø±Û”', duration:'8 ÛÙØªÛ’', slots:['18:30','22:00'], teacher:'t1'},
      ];
    }

    function defaultTeachers(){
      return [
        {id:'t1', name:'Ù‚Ø§Ø±ÛŒ Ø²ÛŒØ¯', subject:'Noorani Qaida / Tafseer', rate:1500, bio:'Ø¬Ø§Ù…Ø¹Û Ø³Û’ Ø­ÙØ¸ Ùˆ ØªØ¬ÙˆÛŒØ¯ØŒ 7 Ø³Ø§Ù„Û ØªØ¬Ø±Ø¨ÛÛ”'},
        {id:'t2', name:'Ø§Ø³ØªØ§Ø¯Û Ù…Ø±ÛŒÙ…', subject:'Tajweed / Arabic', rate:1800, bio:'MA ArabicØŒ Ø¢Ù† Ù„Ø§Ø¦Ù† Ù¹ÛŒÚ†Ù†Ú¯ 5 Ø³Ø§Ù„Û”'},
        {id:'t3', name:'Ù‚Ø§Ø±ÛŒ Ø³Ù„Ù…Ø§Ù†', subject:'Hifz / Nazra', rate:2000, bio:'Ù…Ø³Ø¬Ø¯ Ú©Û’ Ø§Ù…Ø§Ù…ØŒ Ø­ÙØ¸ Ú©Û’ Ù…Ø§ÛØ±Û”'},
        {id:'t4', name:'Ø§Ø³ØªØ§Ø¯ Ø­Ù…Ø²Û', subject:'Seerah / History', rate:1400, bio:'Islamic Studies (MPhil), Ø±ÛŒØ³Ø±Ú† Ø§Ø³Ú©Ø§Ù„Ø±Û”'},
      ];
    }

    // ======= UI Builders =======
    function renderCourses(){
      const g = $('#courseGrid'); g.innerHTML='';
      db.courses.forEach(c=>{
        const t = db.teachers.find(t=>t.id===c.teacher);
        const el = document.createElement('div');
        el.className='card course';
        el.innerHTML = `
          <div class="chip">${c.tag}</div>
          <h3>${c.title}</h3>
          <p class="muted">${c.desc}</p>
          <div class="muted">Ø§Ø³ØªØ§Ø¯: <b>${t?.name||'-'}</b> â€¢ Ù…Ø¯Øª: ${c.duration} â€¢ Ø³Ø·Ø­: ${c.level}</div>
          <div style="height:8px"></div>
          <div class="row">
            <select class="input" id="slot-${c.id}">
              ${c.slots.map(s=>`<option value="${s}">${s}</option>`).join('')}
            </select>
            <button class="btn brand" onclick="enroll('${c.id}')">Enroll (PKR ${c.price})</button>
          </div>
          <div style="display:flex; gap:8px; margin-top:10px; flex-wrap:wrap">
            <span class="badge">Zoom/Meet Supported</span>
            <span class="badge">Recording</span>
            <span class="badge">Parent Access</span>
          </div>
        `;
        g.appendChild(el);
      });
    }

    function renderTeachers(){
      const g = $('#teacherList'); g.innerHTML='';
      db.teachers.forEach(t=>{
        const el = document.createElement('div');
        el.className='card teacher';
        el.innerHTML = `
          <div class="avatar">${t.name.slice(0,2)}</div>
          <div>
            <h3 style="margin:0">${t.name}</h3>
            <div class="muted">${t.subject} â€¢ ÙÛŒ Ú¯Ú¾Ù†Ù¹Û: PKR ${t.rate}</div>
            <p class="muted">${t.bio}</p>
            <div style="display:flex; gap:8px; flex-wrap:wrap">
              <button class="btn" onclick="openModal('trialModal')">Free Trial</button>
              <button class="btn brand" onclick="enrollDirect('${t.id}')">Enroll with ${t.name.split(' ')[0]}</button>
            </div>
          </div>
        `;
        g.appendChild(el);
      });
    }

    function renderEnrolled(){
      const wrap = $('#enrolled');
      const my = db.currentUser?.email;
      const items = db.enrollments.filter(e=> e.email===my);
      if(!db.currentUser){ wrap.innerHTML = '<p class="muted">Ø¨Ø±Ø§ÛÙ Ú©Ø±Ù… Ù¾ÛÙ„Û’ Ù„Ø§Ú¯ Ø§ÙÙ† Ú©Ø±ÛŒÚºÛ”</p>'; return; }
      if(items.length===0){ wrap.innerHTML = '<p class="muted">Ø§Ø¨Ú¾ÛŒ Ú©ÙˆØ¦ÛŒ Ú©ÙˆØ±Ø³ Ø´Ø§Ù…Ù„ Ù†ÛÛŒÚº â€” Ø§ÙˆÙ¾Ø± Ø³Û’ Enroll Ú©Ø±ÛŒÚºÛ”</p>'; return; }
      wrap.innerHTML = '';
      items.forEach(e=>{
        const c = db.courses.find(c=>c.id===e.courseId);
        const el = document.createElement('div');
        el.className='card section';
        el.innerHTML = `
          <div style="display:flex; align-items:center; justify-content:space-between; gap:8px; flex-wrap:wrap">
            <div>
              <h3 style="margin:0">${c?.title||'Course'}</h3>
              <div class="muted">Slot: ${e.slot} â€¢ Status: <span class="badge success">Active</span></div>
            </div>
            <div style="display:flex; gap:8px; flex-wrap:wrap">
              <button class="btn" onclick="openMeeting('${c?.title||''}')">Join Class</button>
              <button class="btn" onclick="downloadNotes()">Notes</button>
            </div>
          </div>
        `;
        wrap.appendChild(el);
      });
    }

    function renderManager(){
      // Applications
      const apps = db.apps.map((a,i)=>`
        <div class="card section" style="margin-bottom:8px">
          <div style="display:flex; align-items:center; justify-content:space-between; gap:8px; flex-wrap:wrap">
            <div>
              <b>${a.name}</b> <span class="muted">(${a.email})</span>
              <div class="muted">${a.subject} â€¢ Expected: PKR ${a.rate}/hr</div>
              <div class="muted">Bio: ${a.bio}</div>
            </div>
            <div style="display:flex; gap:8px">
              <button class="btn" onclick="approveTeacher(${i})">Approve</button>
              <button class="btn" onclick="rejectTeacher(${i})">Reject</button>
            </div>
          </div>
        </div>`).join('');
      $('#apps').innerHTML = apps || '<p class="muted">No pending applications.</p>';

      // Courses
      const list = db.courses.map(c=>{
        const t = db.teachers.find(t=>t.id===c.teacher);
        return `
          <div class="card section" style="margin-bottom:8px">
            <div style="display:flex; align-items:center; justify-content:space-between; gap:8px; flex-wrap:wrap">
              <div>
                <b>${c.title}</b> <span class="badge">${c.level}</span>
                <div class="muted">Teacher: ${t?.name||'-'} â€¢ Price: ${c.price} â€¢ Slots: ${c.slots.join(', ')}</div>
              </div>
              <div style="display:flex; gap:8px">
                <button class="btn" onclick="addSlot('${c.id}')">+ Slot</button>
                <button class="btn" onclick="discount('${c.id}')">Discount</button>
              </div>
            </div>
          </div>`
      }).join('');
      $('#mgrCourses').innerHTML = list;
    }

    // ======= Actions =======
    function scrollToId(id){ document.getElementById(id)?.scrollIntoView({behavior:'smooth'}); }

    function openModal(id){
      $('#backdrop').style.display='flex';
      $$('#backdrop ~ .modal').forEach(m=> m.style.display = m.id===id ? 'block' : 'none');
    }
    function closeAllModals(){
      $('#backdrop').style.display='none';
      $$('#backdrop ~ .modal').forEach(m=> m.style.display='none');
    }

    // Auth
    $('#btnLogin').addEventListener('click', ()=> openModal('authModal'));
    $('#btnJoin').addEventListener('click', ()=> scrollToId('courses'));

    function signupOrLogin(){
      const name=$('#authName').value.trim();
      const email=$('#authEmail').value.trim();
      const phone=$('#authPhone').value.trim();
      const pwd=$('#authPwd').value.trim();
      if(!email||!pwd){ alert('Ø§ÛŒ Ù…ÛŒÙ„ Ø§ÙˆØ± Ù¾Ø§Ø³ ÙˆØ±Úˆ Ø¯Ø±Ú©Ø§Ø± ÛÛŒÚº'); return; }
      let u = db.users.find(u=>u.email===email);
      if(!u){ u={name,email,phone,pwd}; db.users.push(u); }
      db.currentUser = u; persist(); closeAllModals(); renderEnrolled(); alert('Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯!');
    }

    // Enroll
    function enroll(courseId){
      if(!db.currentUser){ openModal('authModal'); return; }
      const slot = document.getElementById('slot-'+courseId).value;
      db.enrollments.push({email: db.currentUser.email, courseId, slot});
      persist(); renderEnrolled(); alert('Enroll ÛÙˆ Ú¯ÛŒØ§ â€” ÚˆÛŒØ´ Ø¨ÙˆØ±Úˆ Ø¯ÛŒÚ©Ú¾ÛŒÚº');
    }

    function enrollDirect(teacherId){
      const c = db.courses.find(c=>c.teacher===teacherId) || db.courses[0];
      enroll(c.id);
    }

    // Trial
    function bookTrial(){
      const n=$('#trialName').value.trim(); const p=$('#trialPhone').value.trim(); const d=$('#trialDate').value; const t=$('#trialTime').value;
      if(!n||!p||!d||!t) return alert('Ø¨Ø±Ø§Ø¦Û’ Ù…ÛØ±Ø¨Ø§Ù†ÛŒ ØªÙ…Ø§Ù… Ø®Ø§Ù†Û’ Ù¾ÙØ± Ú©Ø±ÛŒÚº');
      closeAllModals(); alert('Trial request submitted! Manager approval pending.');
    }

    // Notes download
    function downloadNotes(){
      const content = `Bismillah\n\nLesson Notes (Demo)\nâ€” Arabic Alphabet\nâ€” Makharij basics\nâ€” Surah Al-Fatiha tajweed points`;
      const blob = new Blob([content], {type:'text/plain;charset=utf-8'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href=url; a.download='lesson-notes.txt'; a.click(); URL.revokeObjectURL(url);
    }

    // Payment demo
    function applyCoupon(){
      const c = $('#coupon').value.trim().toUpperCase();
      if(c==='BISMILLAH10'){ alert('10% ÚˆØ³Ú©Ø§Ø¤Ù†Ù¹ Ù…Ù†Ø¸ÙˆØ±! (ÚˆÛŒÙ…Ùˆ)'); }
      else if(c){ alert('ØºÙ„Ø· Ú©ÙˆÙ¾Ù†'); }
    }
    function markPaid(){
      const amt = +($('#payAmount').value||0); const ref = $('#payRef').value.trim();
      if(!amt||!ref) return alert('Ø±Ù‚Ù… Ø§ÙˆØ± Ø±ÛŒÙØ±Ù†Ø³ Ø¶Ø±ÙˆØ±ÛŒ ÛÛŒÚº');
      db.payments.push({email: db.currentUser?.email||'guest', amt, ref, at: Date.now()}); persist(); closeAllModals(); alert('Payment marked (demo).');
    }

    // Manager Panel
    $('#btnManager').addEventListener('click', ()=> openModal('managerModal'));

    function managerLogin(){
      const e=$('#mgrEmail').value.trim(), p=$('#mgrPwd').value.trim();
      if(e==='admin@ilmhub' && p==='manager123'){
        $('#mgrLogin').style.display='none'; $('#mgrArea').style.display='block'; renderManager();
      } else alert('ØºÙ„Ø· Ú©Ø±ÛŒÚˆÙ†Ø´Ù„Ø²');
    }

    function applyTeacher(){
      const name=$('#tName').value.trim(); const email=$('#tEmail').value.trim();
      const subject=$('#tSubject').value; const rate=+($('#tRate').value||0); const bio=$('#tBio').value.trim();
      if(!name||!email||!subject||!rate||!bio) return alert('ØªÙ…Ø§Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¯Ø±Ú©Ø§Ø± ÛÛŒÚº');
      db.apps.push({name,email,subject,rate,bio}); persist(); closeAllModals(); alert('Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¬Ù…Ø¹ ÛÙˆ Ú¯Ø¦ÛŒ');
    }

    function approveTeacher(i){
      const app = db.apps[i]; if(!app) return;
      const id = 't' + Math.floor(Math.random()*10000);
      db.teachers.push({id,name:app.name,subject:app.subject,rate:app.rate,bio:app.bio});
      db.apps.splice(i,1); persist(); renderManager(); renderTeachers();
    }
    function rejectTeacher(i){ db.apps.splice(i,1); persist(); renderManager(); }

    function addSlot(courseId){
      const c = db.courses.find(c=>c.id===courseId); if(!c) return; const s=prompt('Ù†ÛŒØ§ Slot (HH:MM)'); if(!s) return; c.slots.push(s); persist(); renderManager(); renderCourses();
    }
    function discount(courseId){
      const c = db.courses.find(c=>c.id===courseId); if(!c) return; const d=+prompt('Discount %? ex: 10'); if(!d) return; c.price = Math.max(0, Math.round(c.price*(1-d/100))); persist(); renderManager(); renderCourses();
    }

    function openMeeting(title){
      const url = 'https://meet.google.com/lookup/demo-class';
      alert('Demo meeting for '+title+' will open in new tab.');
      window.open(url,'_blank');
    }

    // Adhan reminder (simple demo timer)
    let adhanTimer = null;
    function setAdhanReminder(){
      const val = $('#adhanTime').value; if(!val) return alert('ÙˆÙ‚Øª Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº');
      if(adhanTimer) clearInterval(adhanTimer);
      const [hh,mm] = val.split(':').map(Number);
      adhanTimer = setInterval(()=>{
        const now = new Date();
        if(now.getHours()===hh && now.getMinutes()===mm && now.getSeconds()<3){
          $('#adhanAudio').play();
          clearInterval(adhanTimer);
          alert('Ø§Ø°Ø§Ù† Ú©Ø§ ÙˆÙ‚Øª ÛÙˆ Ú¯ÛŒØ§');
        }
      }, 1000);
      alert('Ø§Ø°Ø§Ù† Ø±ÛŒÙ…Ø§Ø¦Ù†ÚˆØ± Ø³ÛŒÙ¹ ÛÙˆ Ú¯ÛŒØ§');
    }

    function shareOnWhatsApp(e){
      e.preventDefault();
      const text = encodeURIComponent('IlmHub â€” Ø§Ø³Ù„Ø§Ù…ÛŒ Ù„Ø±Ù†Ù†Ú¯ Ù¾Ù„ÛŒÙ¹ ÙØ§Ø±Ù… (ÚˆÛŒÙ…Ùˆ) \n\nÙ…Ø¬Ú¾Û’ ÛŒÛ Ø³Ø§Ø¦ÛŒÙ¹ Ù¾Ø³Ù†Ø¯ Ø¢Ø¦ÛŒ!');
      const url = encodeURIComponent(location.href);
      window.open(`https://wa.me/?text=${text}%20${url}`, '_blank');
    }

    // Init
    renderCourses();
    renderTeachers();
    renderEnrolled();
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
